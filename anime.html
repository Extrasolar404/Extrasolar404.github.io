<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>KAIZOKU - Anime</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  
<header class="navbar">
  <a href="index.html" class="back-btn">‚Üê</a>
  <div class="brand">
    <a href="index.html">
      <div class="logo-with-text">
        <img src="covers/one_piece.jpg.jpg" alt="KAIZOKU" class="logo-img">
        <span class="logo">KAIZOKU</span>
      </div>
    </a>
    <span class="tagline">Anime Hub</span>
  </div>
  <div class="navbar-search">
    <input id="search" type="text" placeholder="Search anime...">
    <select id="genreFilter" class="navbar-select">
      <option value="">All Genres</option>
      <option value="action">Action</option>
      <option value="adventure">Adventure</option>
      <option value="romance">Romance</option>
      <option value="comedy">Comedy</option>
      <option value="drama">Drama</option>
      <option value="fantasy">Fantasy</option>
      <option value="sci-fi">Sci-Fi</option>
    </select>
    <select id="sortSelect" class="navbar-select">
      <option value="title-asc">A-Z</option>
      <option value="title-desc">Z-A</option>
      <option value="episodes-high">Most Episodes</option>
      <option value="episodes-low">Least Episodes</option>
    </select>
  </div>
  <div class="navbar-controls">
    <button class="stats-toggle" title="View stats">üìä</button>
  </div>
</header>

<div class="stats-panel" id="statsPanel">
  <h3>Statistics</h3>
  <p>Total Anime: <span id="totalCount">0</span></p>
  <p>Favorites: <span id="favCount">0</span></p>
  <p>Recently Viewed: <span id="recentCount">0</span></p>
</div>

<main class="container">
  <section id="animeGrid" class="grid"></section>
</main>

<button class="scroll-to-top" id="scrollToTop" title="Scroll to top">‚Üë</button>

<div id="toast" class="toast"></div>

<footer class="footer">
  KAIZOKU ‚Ä¢ Anime Hub
</footer> 

<script>
const animeData = [
  {
    title: "One Piece",
    cover: "https://static.mfcdn.cc/db7e/i/8/8d/8d6fabb1c56aaf9fdc71785bea77ee5a.jpg",
    episodes: 1155,
    genre: "adventure",
    url: "https://hianime.cz/one-piece-100"
  },
  {
    title: "Naruto Shippuden",
    cover: "https://cdn.noitatnemucod.net/thumbnail/300x400/100/9cbcf87f54194742e7686119089478f8.jpg",
    episodes: 500,
    genre: "action",
    url: "https://hianime.cz/naruto-shippuden-355"
  },
  {
    title: "Jujutsu Kaisen",
    cover: "https://static.mfcdn.cc/4686/i/3/3d/3dcb597a1876f686f953aa8fd792f4da.jpg",
    episodes: 60,
    genre: "action",
    url: "https://hianime.cz/jujutsu-kaisen-tv-534"
  },
  {
    title: "Demon Slayer",
    cover: "https://static.mfcdn.cc/c6d5/i/b/bd/bd4f518bcd9511455b411241c4121633.jpg",
    episodes: 55,
    genre: "action",
    url: "https://hianime.cz/demon-slayer-kimetsu-no-yaiba-47"
  },
  {
    title: "Your Name",
    cover: "https://cdn.noitatnemucod.net/thumbnail/300x400/100/16eec56baf8f3fcc6430607f58ce3d12.jpg",
    episodes: 1,
    genre: "romance",
    url: "https://hianime.cz/your-name-10"
  },
  {
    title: "Blue Lock",
    cover: "https://cdn.noitatnemucod.net/thumbnail/300x400/100/fced51e392ffd80041b3a1581ba7de2f.jpg",
    episodes: 24,
    genre: "action",
    url: "https://hianime.cz/blue-lock-17889"
  },
  {
    title: "Mushoku Tensei",
    cover: "https://cdn.noitatnemucod.net/thumbnail/300x400/100/368b47bf4417b07cc9f316fffe10d342.jpg",
    episodes: 11,
    genre: "fantasy",
    url: "https://hianime.cz/mushoku-tensei-jobless-reincarnation-15820"
  }
];

let currentFilter='all',currentSort='title-asc',favorites=JSON.parse(localStorage.getItem('animeFavorites'))||[],recentlyViewed=JSON.parse(localStorage.getItem('animeRecentlyViewed'))||[];
const grid=document.getElementById("animeGrid"),search=document.getElementById("search"),genreFilter=document.getElementById("genreFilter"),sortSelect=document.getElementById("sortSelect"),scrollToTopBtn=document.getElementById("scrollToTop"),statsToggle=document.querySelector(".stats-toggle"),statsPanel=document.getElementById("statsPanel");

statsToggle.addEventListener("click",()=>{statsPanel.classList.toggle("show");updateStats()});
function updateStats(){document.getElementById("totalCount").textContent=animeData.length;document.getElementById("favCount").textContent=favorites.length;document.getElementById("recentCount").textContent=recentlyViewed.length}
function showToast(e){const t=document.getElementById("toast");t.textContent=e;t.classList.add("show");setTimeout(()=>t.classList.remove("show"),2e3)}
function renderGrid(e){grid.innerHTML="";if(0===e.length){grid.innerHTML='<p style="text-align:center;color:#9aa4d6;grid-column:1/-1;padding:40px;">No anime found</p>';return}e.forEach((e,t)=>{const a=document.createElement("div");a.className="card";a.style.animationDelay=`${.05*t}s`;const i=favorites.includes(e.title),r=JSON.parse(localStorage.getItem(`progress_${e.title}`))||{watched:0};a.innerHTML=`<img class="cover-img" src="${e.cover}"><div class="tile-info"><h3>${e.title}</h3><span>${e.episodes} Episodes</span>${r.watched>0?`<div class="progress-bar"><div style="width:${r.watched/e.episodes*100}%"></div></div>`:''}</div><button class="fav-btn ${i?"favorited":""}" title="Add to favorites">‚ù§</button>`;a.querySelector(".cover-img").addEventListener("click",()=>{window.open(e.url,"_blank");recentlyViewed=recentlyViewed.filter(t=>t!==e.title);recentlyViewed.unshift(e.title);recentlyViewed=recentlyViewed.slice(0,10);localStorage.setItem("animeRecentlyViewed",JSON.stringify(recentlyViewed))});a.querySelector(".fav-btn").addEventListener("click",t=>{t.stopPropagation();favorites.includes(e.title)?(favorites=favorites.filter(t=>t!==e.title),showToast("Removed from favorites")):(favorites.push(e.title),showToast("Added to favorites!"));localStorage.setItem("animeFavorites",JSON.stringify(favorites));renderFiltered()});grid.appendChild(a)})}
function applyFiltersAndSort(e){let t=e;switch(genreFilter.value&&(t=t.filter(e=>e.genre===genreFilter.value)),sortSelect.value){case"title-desc":t.sort((e,a)=>a.title.localeCompare(e.title));break;case"episodes-high":t.sort((e,a)=>a.episodes-e.episodes);break;case"episodes-low":t.sort((e,a)=>e.episodes-a.episodes);break;default:t.sort((e,a)=>e.title.localeCompare(a.title))}return t}
function renderFiltered(){let e=animeData;"favorites"===currentFilter?e=animeData.filter(e=>favorites.includes(e.title)):"recent"===currentFilter&&(e=animeData.filter(e=>recentlyViewed.includes(e.title)).sort((e,t)=>recentlyViewed.indexOf(e.title)-recentlyViewed.indexOf(t.title)));const t=search.value.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t));e=applyFiltersAndSort(e);renderGrid(e)}
search.addEventListener("input",renderFiltered);genreFilter.addEventListener("change",renderFiltered);sortSelect.addEventListener("change",renderFiltered);
window.addEventListener("scroll",()=>{scrollToTopBtn.classList.toggle("show",window.scrollY>300)});
scrollToTopBtn.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});
document.addEventListener("keydown",e=>{"h"===e.key&&(window.location.href="index.html");"s"===e.key&&search.focus()});
renderFiltered();
updateStats();
</script>
</body>
</html>
