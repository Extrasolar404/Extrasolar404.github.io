<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>KAIZOKU - Manga</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  
<header class="navbar">
  <a href="index.html" class="back-btn">‚Üê</a>
  <div class="brand">
    <a href="index.html">
      <div class="logo-with-text">
        <img src="covers/one_piece.jpg.jpg" alt="KAIZOKU" class="logo-img">
        <span class="logo">KAIZOKU</span>
      </div>
    </a>
    <span class="tagline">Manga Hub</span>
  </div>
  <div class="navbar-search">
    <input id="search" type="text" placeholder="Search manga...">
    <select id="genreFilter" class="navbar-select">
      <option value="">All Genres</option>
      <option value="action">Action</option>
      <option value="adventure">Adventure</option>
      <option value="romance">Romance</option>
      <option value="comedy">Comedy</option>
      <option value="drama">Drama</option>
      <option value="fantasy">Fantasy</option>
      <option value="sci-fi">Sci-Fi</option>
    </select>
    <select id="sortSelect" class="navbar-select">
      <option value="title-asc">A-Z</option>
      <option value="title-desc">Z-A</option>
      <option value="chapters-high">Most Chapters</option>
      <option value="chapters-low">Least Chapters</option>
    </select>
  </div>
  <div class="navbar-controls">
    <button class="stats-toggle" title="View stats">üìä</button>
  </div>
</header>

<div class="stats-panel" id="statsPanel">
  <h3>Statistics</h3>
  <p>Total Manga: <span id="totalCount">0</span></p>
  <p>Favorites: <span id="favCount">0</span></p>
  <p>Recently Viewed: <span id="recentCount">0</span></p>
</div>

<main class="container">
  <section id="mangaGrid" class="grid"></section>
</main>

<button class="scroll-to-top" id="scrollToTop" title="Scroll to top">‚Üë</button>

<div id="toast" class="toast"></div>

<footer class="footer">
  KAIZOKU ‚Ä¢ Manga Hub
</footer> 

<script>
const mangaData = [
  {
    title: "One Piece",
    cover: "https://static.mfcdn.cc/db7e/i/8/8d/8d6fabb1c56aaf9fdc71785bea77ee5a.jpg",
    chapters: 1120,
    genre: "adventure",
    url: "https://mangafire.pm/manga/one-piecee.dkw"
  },
  {
    title: "Jujutsu Kaisen",
    cover: "https://static.mfcdn.cc/4686/i/3/3d/3dcb597a1876f686f953aa8fd792f4da.jpg",
    chapters: 271,
    genre: "action",
    url: "https://mangafire.pm/manga/jujutsu-kaisenn.rl2vm"
  },
  {
    title: "Demon Slayer",
    cover: "https://static.mfcdn.cc/c6d5/i/b/bd/bd4f518bcd9511455b411241c4121633.jpg",
    chapters: 207,
    genre: "action",
    url: "https://mangafire.pm/manga/kimetsu-no-yaibaa.7j6"
  },
  {
    title: "Suzume no Tojimari",
    cover: "https://static.mfcdn.cc/31b3/i/6/6f/cafa1c693e202f5675862593aa6b42fb.jpg",
    chapters: 65,
    genre: "romance",
    url: "https://mangafire.pm/manga/suzume-no-tojimari.ox2l5"
  }
];
let currentFilter='all',currentSort='title-asc',favorites=JSON.parse(localStorage.getItem('mangaFavorites'))||[],recentlyViewed=JSON.parse(localStorage.getItem('mangaRecentlyViewed'))||[];
const grid=document.getElementById("mangaGrid"),search=document.getElementById("search"),genreFilter=document.getElementById("genreFilter"),sortSelect=document.getElementById("sortSelect"),scrollToTopBtn=document.getElementById("scrollToTop"),statsToggle=document.querySelector(".stats-toggle"),statsPanel=document.getElementById("statsPanel");

statsToggle.addEventListener("click",()=>{statsPanel.classList.toggle("show");updateStats()});
function updateStats(){document.getElementById("totalCount").textContent=mangaData.length;document.getElementById("favCount").textContent=favorites.length;document.getElementById("recentCount").textContent=recentlyViewed.length}
function showToast(e){const t=document.getElementById("toast");t.textContent=e;t.classList.add("show");setTimeout(()=>t.classList.remove("show"),2e3)}
function renderGrid(e){grid.innerHTML="";if(0===e.length){grid.innerHTML='<p style="text-align:center;color:#9aa4d6;grid-column:1/-1;padding:40px;">No manga found</p>';return}e.forEach((e,t)=>{const a=document.createElement("div");a.className="card";a.style.animationDelay=`${.05*t}s`;const i=favorites.includes(e.title),r=JSON.parse(localStorage.getItem(`manga_progress_${e.title}`))||{read:0};a.innerHTML=`<img class="cover-img" src="${e.cover}"><div class="tile-info"><h3>${e.title}</h3><span>${e.chapters} Chapters</span>${r.read>0?`<div class="progress-bar"><div style="width:${r.read/e.chapters*100}%"></div></div>`:''}</div><button class="fav-btn ${i?"favorited":""}" title="Add to favorites">‚ù§</button>`;a.querySelector(".cover-img").addEventListener("click",()=>{window.open(e.url,"_blank");recentlyViewed=recentlyViewed.filter(t=>t!==e.title);recentlyViewed.unshift(e.title);recentlyViewed=recentlyViewed.slice(0,10);localStorage.setItem("mangaRecentlyViewed",JSON.stringify(recentlyViewed))});a.querySelector(".fav-btn").addEventListener("click",t=>{t.stopPropagation();favorites.includes(e.title)?(favorites=favorites.filter(t=>t!==e.title),showToast("Removed from favorites")):(favorites.push(e.title),showToast("Added to favorites!"));localStorage.setItem("mangaFavorites",JSON.stringify(favorites));renderFiltered()});grid.appendChild(a)})}
function applyFiltersAndSort(e){let t=e;switch(genreFilter.value&&(t=t.filter(e=>e.genre===genreFilter.value)),sortSelect.value){case"title-desc":t.sort((e,a)=>a.title.localeCompare(e.title));break;case"chapters-high":t.sort((e,a)=>a.chapters-e.chapters);break;case"chapters-low":t.sort((e,a)=>e.chapters-a.chapters);break;default:t.sort((e,a)=>e.title.localeCompare(a.title))}return t}
function renderFiltered(){let e=mangaData;"favorites"===currentFilter?e=mangaData.filter(e=>favorites.includes(e.title)):"recent"===currentFilter&&(e=mangaData.filter(e=>recentlyViewed.includes(e.title)).sort((e,t)=>recentlyViewed.indexOf(e.title)-recentlyViewed.indexOf(t.title)));const t=search.value.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t));e=applyFiltersAndSort(e);renderGrid(e)}
search.addEventListener("input",renderFiltered);genreFilter.addEventListener("change",renderFiltered);sortSelect.addEventListener("change",renderFiltered);
window.addEventListener("scroll",()=>{scrollToTopBtn.classList.toggle("show",window.scrollY>300)});
scrollToTopBtn.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});
document.addEventListener("keydown",e=>{"h"===e.key&&(window.location.href="index.html");"s"===e.key&&search.focus()});
renderFiltered();
updateStats();
</script>
</body>
</html>
